(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{211:function(e,n,s){"use strict";s.r(n);var t=s(0),a=Object(t.a)({},function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"spring-boot返回文件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot返回文件流","aria-hidden":"true"}},[e._v("#")]),e._v(" spring boot返回文件流")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('@GetMapping(value = "/file/{fileName}")\npublic ResponseEntity<FileSystemResource> getFile(@PathVariable("fileName") String fileName) throws FileNotFoundException {\n\tFile file = new File(filePath, fileName);\n\tif (file.exists()) {\n\t\treturn export(file);\n\t}\n\tSystem.out.println(file);\n\treturn null;\n}\n\n\npublic ResponseEntity<FileSystemResource> export(File file) {\n\tif (file == null) {\n\t\treturn null;\n\t}\n\tHttpHeaders headers = new HttpHeaders();\n\theaders.add("Cache-Control", "no-cache, no-store, must-revalidate");\n\theaders.add("Content-Disposition", "attachment; filename=" + file.getName());\n\theaders.add("Pragma", "no-cache");\n\theaders.add("Expires", "0");\n\theaders.add("Last-Modified", new Date().toString());\n\theaders.add("ETag", String.valueOf(System.currentTimeMillis()));\n\treturn ResponseEntity.ok().headers(headers).contentLength(file.length()).contentType(MediaType.parseMediaType("application/octet-stream")).body(new FileSystemResource(file));\n}\n\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br")])])])},[],!1,null,null,null);n.default=a.exports}}]);